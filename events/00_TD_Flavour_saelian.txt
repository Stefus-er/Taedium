namespace = saelian

country_event = { #diet where

	id = saelian.1
	title = saelian.1.t
	desc = saelian.1.d
	picture = DIET_eventPicture

	is_triggered_only = yes

	option = { #imperial capital
		name = saelian.1.a
		capital_scope = {
			add_province_triggered_modifier = perpetual_diet
			save_event_target_as = diet_province
			add_great_project = {
				type = imperial_palace
				instant = yes
			}
			set_province_flag = imperial_palace_province
			hidden_effect = {
				province_event = {
					id = hre_event.6
				}
			}
		}
		goto = diet_province
		
	}
	option = { #tetrarch capital
		name = saelian.1.b
		
		add_imperial_influence = 5
		random_country = {
			limit = {
				is_elector = yes
			}
			capital_scope = {
				add_province_triggered_modifier = perpetual_diet
				save_event_target_as = diet_province
				add_great_project = {
					type = imperial_palace
					instant = yes
				}
				set_province_flag = imperial_palace_province
				hidden_effect = {
					province_event = {
						id = hre_event.6
					}
				}
			}
		}
		goto = diet_province
		
	}
	option = { #free city
		name = saelian.1.c
		add_imperial_influence = 10
		random_country = {
			limit = {
				is_part_of_hre = yes
				OR = {
					AND = {
						has_reform = free_city
						has_dlc = "Art of War"
						capital_scope = {
							development = 15
						}
					}
					tag = LIM #limstadt
					tag = MER #merkast
					tag = ROG #rogau
					tag = MAS #magstadt
				}
			}
			capital_scope = {
				add_province_triggered_modifier = perpetual_diet
				save_event_target_as = diet_province
				add_great_project = {
					type = imperial_palace
					instant = yes
				}
				set_province_flag = imperial_palace_province
				hidden_effect = {
					province_event = {
						id = hre_event.6
					}
				}
			}
		}
		goto = diet_province
	}
}
country_event = { #emperor demands a special levy
	id = saelian.2
	title = saelian.2.t
	desc = saelian.2.d
	picture = HRE_eventPicture

	is_triggered_only = yes
	
	option = { #accept
		name = saelian.2.a
		add_manpower = -0.5
		emperor = { add_manpower = 0.5 }
		add_opinion = {
			who = emperor
			modifier = demanded_additional_levy
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					is_rival = emperor
					war_with = emperor
				}
			}
			modifier = {
				factor = 0.1
				is_at_war = yes
			}
		}
	}
	option = { #decline
		name = saelian.2.b
		reverse_add_opinion = {
			who = emperor
			modifier = rejected_additional_levy_request
		}
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				is_subject_of = emperor
			}
			modifier = {
				factor = 0.1
				has_opinion = {
					who = emperor
					value = 50
				}
			}
			modifier = {
				factor = 0
				has_opinion = {
					who = emperor
					value = 100
				}
			}
		}
	}
}
country_event = { #i dont remember what that event does
	id = saelian.3
	title = saelian.3.t
	desc = saelian.3.desc
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	option = { #oh well...
		name = saelian.3.a
		#temporal
		
	}
}

country_event = { #prince requests kingship
	id = saelian.4
	title = saelian.4.t
	desc = saelian.4.desc
	picture = NOBLE_ESTATE_eventPicture

	is_triggered_only = yes

	option = { #accept
		name = saelian.4.a
		tooltip = {
			event_target:requesting_prince = {
				set_government_rank_force = 2
				add_prestige = 25
				add_opinion = {
					who = emperor
					modifier = emperor_granted_kingship
				}
			}
			add_imperial_influence = 5
		}
		hidden_effect = {
			event_target:requesting_prince = {
				country_event = {
					id = saelian.5
				}
			}
		}
		clear_global_event_target = requesting_prince

		ai_chance = {
			factor = 1
			modifier = {
				factor = 0.5
				event_target:requesting_prince = {
					NOT = { religion = emperor }
				}
			}
			modifier = {
				factor = 0.5
				event_target:requesting_prince = {
					NOT = { piety = 0.5 }
				}
			}
			modifier = {
				factor = 10
				has_opinion = {
					who = event_target:requesting_prince
					value = 100
				}
			}
			modifier = {
				factor = 2
				has_opinion = {
					who = event_target:requesting_prince
					value = 150
				}
			}
		}
	}
	option = { #decline
		name = saelian.4.b
		tooltip = {
			event_target:requesting_prince = {
				add_prestige = -10
				add_opinion = {
					who = emperor
					modifier = emperor_not_granted_kingship
				}
				add_country_modifier = {
					name = prince_rejected_kingship
					duration = 10950 #30 yrs
				}
			}
			add_imperial_influence = -5
		}
		hidden_effect = {
			event_target:requesting_prince = {
				country_event = {
					id = saelian.6
				}
			}
		}
		clear_global_event_target = requesting_prince
		ai_chance = {
			factor = 1
		}
	}
}

country_event = { #emperor accepted
	id = saelian.5
	title = saelian.5.t
	desc = saelian.5.desc
	picture = NOBLE_ESTATE_eventPicture

	is_triggered_only = yes

	option = { #great
		name = saelian.5.a
		set_government_rank_force = 2
		add_prestige = 25
		add_opinion = {
			who = emperor
			modifier = emperor_granted_kingship
		}
		emperor = {
			add_imperial_influence = 5
		}
		clr_country_flag = requested_kingship
	}
}

country_event = { #emperor declined
	id = saelian.6
	title = saelian.6.t
	desc = saelian.6.desc
	picture = NOBLE_ESTATE_eventPicture

	is_triggered_only = yes

	option = { #oh well
		name = saelian.6.a
		add_prestige = -10
		add_opinion = {
			who = emperor
			modifier = emperor_not_granted_kingship
		}
		emperor = {
			add_imperial_influence = -5
		}
		add_country_modifier = {
			name = prince_rejected_kingship
			duration = 10950 #30 yrs
		}
		clr_country_flag = requested_kingship
		
	}
}

country_event = { #hidden startup
	id = saelian.7
	title = HIDDEN
	desc = HIDDEN

	picture = PEASANTS_BARTERING_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes
	option = {
		name = HIDDEN
		if = {
			limit = { is_part_of_hre = yes }
			add_piety = 0.5
		}
		#else = { add_piety = -0.5 }
		
	}
}

country_event = {
	id = saelian.8
	title = saelian.8.t
	desc = saelian.8.desc

	picture = CHURCH_ESTATE_1_eventPicture
	
	is_triggered_only = yes

	option = { #inherit tetrarchy
		name = saelian.8.a
		add_dip_power = -300
		every_elector = {
			emperor = {
				inherit = PREV
			}
		}
		add_country_modifier = {
			name = TD_emperor_crushed_opposition
			duration = 3650 #10 yrs
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = saelian.8.b
		add_legitimacy = 25
		add_prestige = 25
		every_elector = {
			capital_scope = {
				add_base_tax = 1
				add_base_production = 1
				add_base_manpower = 1
			}
		}
		add_country_modifier = {
			name = TD_emperor_silver_tongue
			duration = 3650
		}
		ai_chance = {
			factor = 100
		}
	}
}

country_event = { #[Root.GovernmentName] of [Root.Getname] and the Empire
	id = saelian.9
	title = saelian.9.t
	desc = saelian.9.desc

	picture = HRE_eventPicture

	is_triggered_only = yes


	option = { #we shall remain loyal to the emperor.
	name = saelian.9.a
		add_imperial_influence = 5
		ai_chance = {
			factor = 1
			modifier = {
				factor = 20
				government_rank = 2
			}
		}
	}
	option = { #we shall forge our own path.
		name = saelian.9.b
		#trigger = {
		#	NOT = { government_rank = 2 }
		#}
		remove_non_electors_emperors_from_empire_effect = yes
		if = {
			limit = { NOT = { government_rank = 2 } }
			set_government_rank_force = 2
		}
		add_prestige = 10
		ai_chance = {
			factor = 5
			modifier = {
				factor = 100
				primary_culture = geoberic
			}
			modifier = {
				factor = 0
				has_country_modifier = prince_rejected_kingship
			}
		}
	}

}

# country_event = { #emperor declared war on hre member
# 	id = saelian.10
# 	title = saelian.10.t
# 	desc = saelian.10.desc
# 	picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture

# 	mean_time_to_happen = {
# 		days = 1
# 	}

# 	trigger = {
# 		is_emperor = yes
# 		any_war_enemy_country = {
# 			is_part_of_hre = yes
# 		}
# 		NOT = { is_in_war = { casus_belli = cb_imperial_domination } }
# 		NOT = { is_in_war = { casus_belli = cb_restore_personal_union } }
# 	}

# 	option = { #i know what i signed up for.
# 		name = saelian.10.a
# 		add_imperial_influence = -10
# 		add_stability = -1
# 		ai_chance = {
# 			factor = 1
# 		}
# 	}

# 	option = { #better back down.
# 		trigger = {
# 			OR = {
# 				ai = yes
# 				NOT = { has_country_flag = hre_war_first_warning }
# 			}
# 		}
# 		set_country_flag = hre_war_first_warning
# 		add_prestige = 5
# 		every_enemy_country = {
# 			white_peace = ROOT
# 		}
# 		ai_chance = {
# 			factor = 10
# 		}
# 	}
# }

country_event = { #Renovatio - vassal swarm edition
	id = saelian.11
	title = saelian.11.t
	desc = saelian.11.desc

	picture = HRE_eventPicture

	is_triggered_only = yes


	option = { #we shall remain loyal to the emperor.
		name = saelian.11.a
		change_tag = HLR
		on_change_tag_effect = yes
		restore_country_name_effect = yes
		every_country = {
			limit = {
				is_part_of_hre = yes
				is_emperor = no
				is_subject = no
			}
			ROOT = {
				create_subject = {
					subject_type = imperial_prince_subject
					subject = PREV
				}
			}
			change_religion = ROOT
			change_country_color = {
				color = {
					120 51 255
				}
			}
			set_country_flag = has_overriden_color_flag
		}
		#dismantle_hre = yes
		set_government_rank = 3
		if = {
			limit = {
				has_custom_ideas = no
				NOT = { has_idea_group = saelian_ideas }
				
			}
			country_event = { id = ideagroups.1 } #Swap Ideas
		}
		swap_non_generic_missions = yes
		if = {
			limit = { has_global_flag = hre_inheritable_flag }
			add_government_reform = holy_viceroyalty
		} else = {
			add_government_reform = saelian_federation
		}
	}
}
country_event = {
	id = saelian.12
	title = saelian.12.t
	desc = saelian.12.desc
	picture = HRE_eventPicture

	major = yes
	major_trigger = {
		religion_group = saelian
	}

	is_triggered_only = yes
	trigger = {
		dynasty = "de Seliana"
		NOT = { FROM = { dynasty = "de Seliana" } }
	}

	option = {
		name = saelian.12.a
		add_imperial_influence = 10
		add_ruler_modifier = {
			name = de_seliana_legacy_of_saelius
		}
		every_known_country = {
			limit = { dynasty = "de Seliana" }
			add_legitimacy = 25
			add_prestige = 25
			add_splendor = 100
		}
	}
}
############################################################################
#Imperial Diet 
############################################################################
country_event = { 
	id = saelian.100
	title = saelian.100.t
	desc = saelian.100.desc
	picture = DIET_eventPicture

	is_triggered_only = yes
	major = yes
	major_trigger = {
		is_part_of_hre = yes
	}

	immediate = {
	}

	option = { #Let the Diet Commence
		name = saelian.100.a
		hidden_effect = { emperor = { country_event = { id = saelian.101 days = 60 random = 5 } } }
		custom_tooltip = saelian.100.a_tt
		ai_chance = {
			factor = 1
		}
	}
	option = { #Go Back
		name = saelian.100.b
		clr_global_flag = diet_active_flag
		ai_chance = {
			factor = 0
		}
	}
}
country_event = { #dummy event - picking next event in the chain
	id = saelian.101
	title = saelian.101.t
	desc = saelian.101.desc
	picture = DIET_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = {
		hre_size = 1
	}

	option = {
		name = saelian.101.a
		trigger = { REB = { NOT = { check_variable = { imperial_diet_event_counter = 3 } } } } #There are still more events to go
		emperor = {
			#there should always be at least 1 event which meets the trigger
			random_list = {
				1 = { #Tetrarchy abuses power
					if = {
						limit = { #trigger for the event
							NOT = { has_global_flag = lippstadt_start }
							num_of_electors = 1
						}
						country_event = { id = saelian.201 }
					} else = { country_event = { id = saelian.101  days = 1 } } #trigger this event until something sticks
				}
				1 = { #Guilds Request Increased Tarrifs
					if = {
						limit = {
							always = yes
						}
						country_event = { id = saelian.202 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Princely Border Dispute
					if = {
						limit = {
							any_known_country = {
								is_part_of_hre = yes
								any_neighbor_country = {
									is_part_of_hre = yes
									NOT = { war_with = PREV }
								}
							}
						}
						country_event = { id = saelian.203 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Split in the Tetrarchy
					if = {
						limit = {
							num_of_electors = 2
						}
						country_event = { id = saelian.204 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Cow Selling Scandal
					if = {
						limit = {
							any_country = { has_reform = free_city }
						}
						country_event = { id = saelian.205 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Holy Investiture
					if = {
						limit = {
							NOT = { num_of_electors = 1 }
						}
						country_event = { id = saelian.206 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Request for War Supplies
					if = {
						limit = {
							any_known_country = {
								is_part_of_hre = yes
								any_war_enemy_country = { is_part_of_hre = no }
							}
						}
						country_event = { id = saelian.207 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Deposition of XYZ
					if = {
						limit = {
							any_known_country = {
								is_part_of_hre = yes
								NOT = { piety = 0 }
							}
						}
						country_event = { id = saelian.208 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Merchants demand lower taxes
					if = {
						limit = {
							always = yes
						}
						country_event = { id = saelian.209 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Expansion of Mining Rights
					if = {
						limit = {
							any_province = {
								owner = { is_part_of_hre = yes }
								has_terrain = mountain
							}
						}
						country_event = { id = saelian.210 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Imperial City Requests Funding
					if = {
						limit = {
							any_known_country = { has_reform = free_city }
						}
						country_event = { id = saelian.211 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Prince request's emperors land
					if = {
						limit = {
							any_known_country = {
								is_part_of_hre = yes
								any_claimed_province = {
									owned_by = emperor
									NOT = { culture = emperor }
								}
							}
						}
						country_event = { id = saelian.212 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
				1 = { #Peasants Exploiting Loopholes
					if = {
						limit = {
							always = yes
						}
						country_event = { id = saelian.213 }
					} else = { country_event = { id = saelian.101  days = 1 } }
				}
			}
		}
	}
	option = {
		name = saelian.101.b
		trigger = { REB = { check_variable = { imperial_diet_event_counter = 3 } } }
		emperor = {
			country_event = {
				id = saelian.102
			}
		}
	}
}
country_event = { #End of Diet
	id = saelian.102
	title = saelian.102.t
	desc = saelian.102.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			REB = { set_variable = { which = imperial_diet_event_counter value = 0 } }
			clr_global_flag = diet_active_flag
			add_country_modifier = { name = diet_cooldown duration = 7300 hidden = yes }
		}
	}

	option = {
		name = saelian.102.a
		tooltip = {
			add_country_modifier = { name = diet_cooldown duration = 7300 hidden = yes }
		}
	}
}
############################################################################
#Imperial Diet - random events
############################################################################
country_event = {
	id = saelian.201
	title = saelian.201.t
	desc = saelian.201.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_elector = {
				save_event_target_as = Emperor_diet_Tetrarch_who_seized_local_temple_target #Only beacuse localization reasons
			}
		}
	}

	option = {
		name = saelian.201.a
		add_imperial_influence = -5
		event_target:Emperor_diet_Tetrarch_who_seized_local_temple_target = {
			add_country_modifier = {
				name = TD_Diet_Domain_Expanded
				duration = 3650
			}
		}
	}
	option = {
		name = saelian.201.b
		add_imperial_influence = 3
		every_elector = {
			add_opinion = {
				who = emperor
				modifier = emperor_refused_domain_expansion
			}
		}
	}
}
country_event = { #Guilds Request Increased Tarrifs
	id = saelian.202
	title = saelian.202.t
	desc = saelian.202.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
		}
	}

	option = {
		name = saelian.202.a
		add_imperial_influence = 3
		add_mercantilism = 2 
		add_country_modifier = {
			name = TD_Diet_High_Border_Tarrifs
			duration = 3650
		}
		every_known_country = {
			limit = {
				is_part_of_hre = yes
				government = republic
			}
			add_mercantilism = 2
		}
		every_known_country = {
			limit = {
				is_part_of_hre = no
				any_owned_province = {
					is_part_of_hre = no
					any_neighbor_province = {
						is_part_of_hre = yes
					}
				}
			}
			add_opinion = {
				who = emperor
				modifier = emperor_increased_border_tarrifs
			}
		}

	}
	option = {
		name = saelian.202.b
		add_mercantilism = -2
		add_imperial_influence = -10
		add_country_modifier = {
			name = TD_Diet_Increased_Free_Trade
			duration = 3650
		}
	}
}

country_event = { #Princely Border Dispute
	id = saelian.203
	title = saelian.203.t
	desc = saelian.203.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					is_part_of_hre = yes
				}
				set_country_flag = Emperor_diet_prince_A_flag
				random_neighbor_country = {
					limit = {
						is_part_of_hre = yes
						NOT = { war_with = PREV }
					}
					set_country_flag = Emperor_diet_prince_B_flag
				}
			}
			random_known_country = {
				limit = {
					has_country_flag = Emperor_diet_prince_A_flag
				}
				random_owned_province = {
					limit = {
						any_neighbor_province = {
							owner = { has_country_flag = Emperor_diet_prince_B_flag }
						}
					}
					save_event_target_as = Emperor_diet_prov_disputed_by_princes_A_B_target
				}
			}
		}
	}
	goto = Emperor_diet_prov_disputed_by_princes_A_B_target
	option = {
		name = saelian.203.a
		add_imperial_influence = 5
		event_target:Emperor_diet_prov_disputed_by_princes_A_B_target = {
			random_list = {
				1 = {
					add_base_manpower = -1
				}
				1 = {
					add_base_production = -1
				}
				1 = {
					add_base_tax = -1
				}
			}
		}
		random_known_country = {
			limit = {
				has_country_flag = Emperor_diet_prince_A_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favored_him_in_border_dispute
			}
		}
		random_known_country = {
			limit = {
				has_country_flag = Emperor_diet_prince_B_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_did_not_favored_him_in_border_dispute
			}
		}
	}
	option = {
		name = saelian.203.b
		add_imperial_influence = -5
		event_target:Emperor_diet_prov_disputed_by_princes_A_B_target = {
			random_list = {
				1 = {
					add_base_manpower = -2
				}
				1 = {
					add_base_production = -2
				}
				1 = {
					add_base_tax = -2
				}
			}
			random_neighbor_province = {
				limit = {
					owner = {
						has_country_flag = Emperor_diet_prince_B_flag
					}
				}
				random_list = {
					1 = {
						add_base_manpower = 2
					}
					1 = {
						add_base_production = 2
					}
					1 = {
						add_base_tax = 2
					}
				}
			}
		}
		random_known_country = {
			limit = {
				has_country_flag = Emperor_diet_prince_A_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_did_not_favored_him_in_border_dispute
			}
		}
		random_known_country = {
			limit = {
				has_country_flag = Emperor_diet_prince_B_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favored_him_in_border_dispute
			}
		}
	}
}
country_event = { #Split in the Tetrarchy
	id = saelian.204
	title = saelian.204.t
	desc = saelian.204.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_elector = {
				limit = {
					NOT = { has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag } #So the same country doesn't get flagged twice
				}
				set_country_flag = Emperor_diet_tetrarch_has_stance_A_flag
			}
			random_elector = {
				limit = {
					NOT = { has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag }
				}
				set_country_flag = Emperor_diet_tetrarch_has_stance_A_flag
			}
		}
	}

	option = {
		name = saelian.204.a
		every_elector = {
			limit = {
				has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favors_stance_A_positive
			}
		}
		every_elector = {
			limit = {
				NOT = { has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag }
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favors_stance_A_negative
			}
		}
		random_list = {
			1 = {
				add_imperial_influence = 10
			}
			3 = {
				add_imperial_influence = -5
			}
		}
	}
	option = {
		name = saelian.204.b
		every_elector = {
			limit = {
				has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favors_stance_B_negative
			}
		}
		every_elector = {
			limit = {
				NOT = { has_country_flag = Emperor_diet_tetrarch_has_stance_A_flag }
			}
			add_opinion = {
				who = emperor
				modifier = emperor_favors_stance_B_positive
			}
		}
		random_list = {
			1 = {
				add_imperial_influence = -10
			}
			3 = {
				add_imperial_influence = 5
			}
		}
	}
}
country_event = { #Cow Selling Scandal (Love this one)
	id = saelian.205
	title = saelian.205.t
	desc = saelian.205.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					is_part_of_hre = yes
					has_reform = free_city
				}
				save_event_target_as = Emperor_diet_guy_who_sold_the_cow_target
			}
			random_known_country = {
				limit = {
					is_part_of_hre = yes
					government = monarchy
				}
				save_event_target_as = Emperor_diet_guy_who_bought_the_cow_target
			}
		}
	}

	option = {
		name = saelian.205.a
		custom_tooltip = saelian.205.a_tt
		hidden_effect = {
			every_known_country = {
				limit = {
					is_part_of_hre = yes
					government = republic
				}
				add_opinion = {
					who = emperor
					modifier = emperor_stood_with_noble_in_the_cow_scandal_negative
				}
			}
			every_known_country = {
				limit = {
					is_part_of_hre = yes
					government = monarchy
				}
				add_opinion = {
					who = emperor
					modifier = emperor_stood_with_noble_in_the_cow_scandal_positive
				}
			}
		}
	}
	option = {
		name = saelian.205.b
		add_years_of_income = -1
		add_imperial_influence = 5
		event_target:Emperor_diet_guy_who_sold_the_cow_target = {
			add_opinion = {
				who = emperor
				modifier = emperor_refunded_the_cow_negative
			}
		}
		event_target:Emperor_diet_guy_who_bought_the_cow_target = {
			add_opinion = {
				who = emperor
				modifier = emperor_refunded_the_cow_positive
			}
		}
	}
	option = {
		name = saelian.205.c
		add_imperial_influence = -10
		add_prestige = 25
	}
}
country_event = { #Holy Investiture 
	id = saelian.206
	title = saelian.206.t
	desc = saelian.206.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_province = {
				limit = {
					is_part_of_hre = yes
					is_capital = no
				}
				save_event_target_as = Emperor_diet_they_want_your_land_for_a_temple_target
			}
		}
	}
	goto = Emperor_diet_they_want_your_land_for_a_temple_target
	option = {
		name = saelian.206.a
		event_target:Emperor_diet_they_want_your_land_for_a_temple_target = {
			add_local_autonomy = 25
			owner = {
				add_opinion = {
					who = emperor
					modifier = emperor_has_given_out_my_land
				}
			}
		}
		add_imperial_influence = 1
	}
	option = {
		name = saelian.206.b
		add_imperial_influence = -5
		add_years_of_income = 1
		add_corruption = 1
	}
}
country_event = { #Request for War Supplies
	id = saelian.207
	title = saelian.207.t
	desc = saelian.207.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					is_part_of_hre = yes
					any_war_enemy_country = { is_part_of_hre = no }
				}
				save_event_target_as = Emperor_diet_this_guy_is_at_war_and_needs_help_target
			}
		}
	}

	option = {
		name = saelian.207.a
		add_imperial_influence = 5
		add_yearly_manpower = -0.5
		add_years_of_income = -0.5
		event_target:Emperor_diet_this_guy_is_at_war_and_needs_help_target = {
			add_country_modifier = {
				name = TD_Diet_Imperial_Weaponry
				duration = 3650
			}
		}
	}
	option = {
		name = saelian.207.b
		add_imperial_influence = -10
	}
}
country_event = { #Deposition of XYZ
	id = saelian.208
	title = saelian.208.t
	desc = saelian.208.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					is_part_of_hre = yes
					NOT = { piety = 0 }
					ai = yes
				}
				save_event_target_as = Emperor_diet_this_noble_has_negative_piety_target
			}
		}
	}

	option = {
		name = saelian.208.a
		add_imperial_influence = 5
		add_country_modifier = {
			name = TD_Diet_Absolutist_Monarch
			duration = 3650
		}
		event_target:Emperor_diet_this_noble_has_negative_piety_target = {
			kill_ruler = yes
			add_opinion = {
				who = emperor
				modifier = emperor_deposed_our_monarch
			}
			if = {
				limit = {
					is_religion_enabled = liemarian
				}
				change_religion = liemarian
				hidden_effect = {
					capital_scope = {
						change_religion = liemarian
					}
				}
			}
		}
	}
	option = {
		name = saelian.208.b
		add_legitimacy = -25
		add_prestige = -25
		event_target:Emperor_diet_this_noble_has_negative_piety_target = {
			add_opinion = {
				who = emperor
				modifier = emperor_did_not_depose_our_monarch
			}
		}
		every_known_country = {
			limit = {
				is_part_of_hre = yes
				NOT = { tag = event_target:Emperor_diet_this_noble_has_negative_piety_target }
			}
			add_opinion = {
				who = emperor
				modifier = emperor_did_not_depose_sinful_prince
			}
		}
	}
}
country_event = { #Merchants demand lower taxes
	id = saelian.209
	title = saelian.209.t
	desc = saelian.209.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
		}
	}

	option = {
		name = saelian.209.a
		distribute_development = {
			amount = 3
			type = production
		}
	}
	option = {
		name = saelian.209.b
		add_country_modifier = {
			name = TD_Diet_Upset_Imperial_Burghers
			duration = 3650
		}
		every_known_country = {
			limit = {
				is_part_of_hre = yes
				government = republic
				NOT = { has_reform = free_city }
				#Should Free cities count too?
			}
			add_opinion = {
				who = emperor
				modifier = emperor_has_not_lowered_taxes_for_burghers
			}
		}
		add_imperial_influence = 3
	}
}
country_event = { #Expansion of Mining Rights
	id = saelian.210
	title = saelian.210.t
	desc = saelian.210.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_province = {
				limit = {
					is_part_of_hre = yes
					has_terrain = mountain
				}
				save_event_target_as = Emperor_diet_mountain_to_dig_a_hole_in_target
			}
		}
	}
	goto = Emperor_diet_mountain_to_dig_a_hole_in_target
	option = {
		name = saelian.210.a
		add_years_of_income = -2
		add_inflation = -1
		add_imperial_influence = 3
		event_target:Emperor_diet_mountain_to_dig_a_hole_in_target = {
			add_base_production = 1
			owner = {
				add_opinion = {
					who = emperor
					modifier = emperor_expanded_mining_rights
				}
			}
		}
	}
	option = {
		name = saelian.210.b
		add_imperial_influence = -1
	}
}
country_event = { #Imperial City Requests Funding
	id = saelian.211
	title = saelian.211.t
	desc = saelian.211.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					has_reform = free_city
				}
				save_event_target_as = Emperor_diet_free_city_which_wants_your_money_target
			}
		}
	}

	option = {
		name = saelian.211.a
		add_years_of_income = -2
		random_list = {
			1 = {
				event_target:Emperor_diet_free_city_which_wants_your_money_target = {
					capital_scope = {
						add_province_modifier = {
							name = TD_Diet_New_Defenses
							duration = 9125
						}
					}
				}
			}
			1 = {
				event_target:Emperor_diet_free_city_which_wants_your_money_target = {
					capital_scope = {
						add_province_modifier = {
							name = TD_Diet_Improved_Road_Infrastructure
							duration = 9125
						}
					}
				}
			}
			1 = {
				event_target:Emperor_diet_free_city_which_wants_your_money_target = {
					add_country_modifier = {
						name = TD_Diet_Refurbished_Marketplace
						duration = 9125
					}
				}
			}
			1 = {
				#Nothing Happens
			}
		}
	}
	option = {
		name = saelian.211.b
		add_imperial_influence = -5
	}
}
country_event = { #Prince request's emperors land
	id = saelian.212
	title = saelian.212.t
	desc = saelian.212.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
			random_known_country = {
				limit = {
					is_part_of_hre = yes
					any_claimed_province = {
						owned_by = emperor
						NOT = { culture = emperor }
					}
				}
				save_event_target_as = Emperor_diet_prince_who_wants_your_prov_target
				random_claimed_province = {
					limit = {
						owned_by = emperor
						NOT = { culture = emperor }
					}
					set_province_flag = Emperor_diet_prince_wants_this_prov_flag
				}
			}
		}
	}

	option = {
		name = saelian.212.a
		random_owned_province = {
			limit = { has_province_flag = Emperor_diet_prince_wants_this_prov_flag }
			cede_province = event_target:Emperor_diet_prince_who_wants_your_prov_target
			clr_province_flag = Emperor_diet_prince_wants_this_prov_flag
		}
		add_imperial_influence = 5
	}
	option = {
		name = saelian.212.b
		add_legitimacy = -25
		add_imperial_influence = -5
	}
}
country_event = { #Peasants Exploiting Loopholes
	id = saelian.213
	title = saelian.213.t
	desc = saelian.213.desc
	picture = DIET_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			emperor = { country_event = { id = saelian.101 days = 60 random = 5 } }
			
			REB = { change_variable = { which = imperial_diet_event_counter value = 1 } }
		}
	}

	option = {
		name = saelian.213.a
		custom_tooltip = saelian.213.a_tt
		hidden_effect = {
			every_known_country = {
				limit = {
					is_part_of_hre = yes
					government = monarchy
				}
				add_opinion = {
					who = emperor
					modifier = emperor_fixed_peasant_loophole
				}
			}
			every_province = {
				limit = {
					is_part_of_hre = yes
				}
				add_unrest = 3
			}
		}
	}
	option = {
		name = saelian.213.b
		add_imperial_influence = -5
		custom_tooltip = saelian.213.b
		hidden_effect = {
			every_known_country = {
				limit = {
					is_part_of_hre = yes
					government = monarchy
				}
				add_opinion = {
					who = emperor
					modifier = emperor_allowed_peasant_loophole
				}
			}
		}
	}
}