namespace = palmisian


#### Aspect Events

## Province Convert
country_event = {
	id = palmisian.1
	title = palmisian.1.t
	desc = palmisian.1.desc
	picture = RELIGION_eventPicture
	trigger = {
		any_neighbor_country = {
			has_church_aspect = palmisianism_wandering_missionaries_chapter_aspect
		}
		any_owned_province = {
			any_neighbor_province = {
				religion = palmisianism
			}
		}
		NOT = {
			has_country_modifier = palmisian_missionaries_expelled
		}
	}
	
	is_triggered_only = yes

	option = { ### allow them
		name = palmisian.1.a
		random_owned_province = {
			if = {
				limit = {
					any_neighbor_province = {
						religion = palmisianism
					}
				}
				change_religion = palmisianism
			}
		}
	}
	option = { ### wtf no
		name = palmisian.1.b
		add_country_modifier = {
			name = palmisian_missionaries_expelled
			duration = 3650
		}
	}
}

#### Festival Events

## Salist Festivals

country_event = { ## salist festival #1 - Ruler uses knowledge to become smarter
	id = palmisian.2
	title = palmisian.2.t
	desc = palmisian.2.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### smart!
		name = palmisian.2.a
			random_list = {
				33 = {
					if = {
						limit = {
							adm = 6
						}
						add_adm_power = 50
					}
					else = {
						change_adm = 1
					}
				}
				33 = {
					if = {
						limit = {
							dip = 6
						}
						add_dip_power = 50
					}
					else = {
						change_dip = 1
					}	
				}
				33 = {
					if = {
						limit = {
							mil = 6
						}
						add_mil_power = 50
					}
					else = {
						change_mil = 1
					}
				}
			}
	}

}

country_event = { ## salist festival #2 - people celebrate woooo
	id = palmisian.3
	title = palmisian.3.t
	desc = palmisian.3.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### opotion
		name = palmisian.3.a
		every_owned_province = {
			if = {
				limit = {
					religion = palmisianism
				}
				add_province_modifier = {
					name = palmisianism_local_festivals
					duration = 1825
				}
			}
		}
	}

}

country_event = { ## salist festival #3 - bright novice advisor joins us
	id = palmisian.4
	title = palmisian.4.t
	desc = palmisian.4.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### opotion
		name = palmisian.4.a
			random_list = {
				50 = {
					define_advisor = {
						skill = 1
						type = inquisitor
						discount = yes
						religion = palmisianism
					}
				}
				50 = {
					define_advisor = {
						skill = 1
						type = theologian
						discount = yes
						religion = palmisianism
					}	
				}
			}
	}

}

## Chapterist Festivals

country_event = { ## chapterist festival #1 - WAR WAR WAR WAR WAR WAR
	id = palmisian.5
	title = palmisian.5.t
	desc = palmisian.5.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### opotion
		name = palmisian.5.a
		if = {
			limit = {
				any_neighbor_country = {
					NOT = {
						religion = palmisianism
					}
				}
			}
			random_neighbor_country = {
				reverse_add_casus_belli = {
    				target = PREV
   					type = cb_crusade
  					months = 120
				}
			}
		}
		else = {
			add_country_modifier = {
				name = palmisianism_holy_war_declared
				duration = 1825
			}
		}
	}

}

country_event = { ## chapterist festival #2 - our war is justified
	id = palmisian.6
	title = palmisian.6.t
	desc = palmisian.6.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### opotion
		name = palmisian.6.a
		every_known_country = {
			limit = {
				religion = palmisianism
			}
			add_aggressive_expansion = {
				who = PREV
				value = -15
			}
		}
			
	}

}

country_event = { ## chapterist festival #3 - knowledge cooperative
	id = palmisian.7
	title = palmisian.7.t
	desc = palmisian.7.desc
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	option = { ### opotion
		name = palmisian.7.a
		if = {
			limit = {
				any_neighbor_country = {
					religion = palmisianism
				}
			}
			random_neighbor_country = {
				limit = {
					religion = palmisianism		
				}
				add_country_modifier = {
					name = palmisianism_knowledge_cooperative
					duration = 1825
				}
			}
			add_country_modifier = {
				name = palmisianism_knowledge_cooperative
				duration = 1825
			}
		}
		else = {
			add_country_modifier = {
				name = palmisianism_knowledge_cooperative
				duration = 1825
			}
		}
	}

}