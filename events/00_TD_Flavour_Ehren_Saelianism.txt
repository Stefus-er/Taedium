namespace = td_ehren_saelianism

#### Nifthem Conquest

country_event = { ## Start
	id = td_ehren_saelianism.1
	title = td_ehren_saelianism.1.t
	desc = td_ehren_saelianism.1.desc
	picture = PROTESTANT_CATHOLIC_DEBATE_eventPicture
	
	is_triggered_only = yes
	

	option = { ## tolerance
		name = td_ehren_saelianism.1.a
		custom_tooltip = ehren_saelianism_events_sigilianism_start.tt
		set_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 3
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.2
				days = 912
			}
		}
	}

	option = { ## convert
		name = td_ehren_saelianism.1.b
		custom_tooltip = ehren_saelianism_events_ehrenism_start.tt
		set_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 5
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.2
				days = 912
			}
		}
	}
}

country_event = { ## rampant missionaries in nifthem
	id = td_ehren_saelianism.2
	title = td_ehren_saelianism.2.t
	desc = td_ehren_saelianism.2.desc
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes

	option = { ## reprimand missionaries
		name = td_ehren_saelianism.2.a
		custom_tooltip = ehren_saelianism_events_sigilianism_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = -1
		}
		add_country_modifier = {
			name = ehren_saelianism_nifthem_missionaries_stopped
			duration = 3650
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.3
				days = 912
			}
		}
	}

	option = { ## support moderate methods
		name = td_ehren_saelianism.2.b
		custom_tooltip = ehren_saelianism_events_ehrenism_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 1
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.3
				days = 912
			}
		}
	}


	option = { ## support their methods
		name = td_ehren_saelianism.2.c
		custom_tooltip = ehren_saelianism_events_ehrenism_huge_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 2
		}
		add_country_modifier = {
			name = ehren_saelianism_nifthem_missionaries_encouraged
			duration = 3650
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.3
				days = 912
			}
		}
	}

}

country_event = { ## antisigilian discrimination areas
	id = td_ehren_saelianism.3
	title = td_ehren_saelianism.3.t
	desc = td_ehren_saelianism.3.desc
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes

	option = { ## abolish these areas
		name = td_ehren_saelianism.3.a
		custom_tooltip = ehren_saelianism_events_sigilianism_huge_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = -2
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.4
				days = 912
			}
		}
	}

	option = { ## support that
		name = td_ehren_saelianism.3.b
		custom_tooltip = ehren_saelianism_events_ehrenism_huge_increase_tt
		custom_tooltip = ehren_saelianism_events_nifthem_discrimination_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 2
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					region = noordland_region
					religion = sigilian
					culture_group = nifthemian_group
				}
				random_list = {
					3 = {}
					1 = { 
						add_province_modifier = {
							name = ehren_saelianism_nifthem_sigilian_discrimination
							duration = 3650
						} 
					}
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = td_ehren_saelianism.4
				days = 912
			}
		}
	}
}

country_event = { ## local rebellions
	id = td_ehren_saelianism.4
	title = td_ehren_saelianism.4.t
	desc = td_ehren_saelianism.4.desc
	picture = DEFENESTRATION_PRAGUE_eventPicture
	
	is_triggered_only = yes

	option = { ## crush radicals
		name = td_ehren_saelianism.4.a
		custom_tooltip = ehren_saelianism_events_sigilianism_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = -1
		}
		random_owned_province = {
			limit = {
				religion = saelian_ehrenic_pantheon
				OR = {
					culture_group = nifthemian_group
					culture = niftrand
				}
			}
			spawn_rebels = {
				size = 1
				type = saelian_ehrenic_pantheon_rebels
			}
			set_province_flag = ehren_saelianism_nifthem_rebel_province
		}
		random_owned_province = {
			limit = {
				religion = saelian_ehrenic_pantheon
				OR = {
					culture_group = nifthemian_group
					culture = niftrand
				}
				NOT = { has_province_flag = ehren_saelianism_nifthem_rebel_province_flag }
			}
			spawn_rebels = {
				size = 1
				type = saelian_ehrenic_pantheon_rebels
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 1
						}
					}
				}
				country_event = {
					id = td_ehren_saelianism.5
					days = 912
				}
			}
			if = {
				limit = {
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 7
					}
				}
				country_event = {
					id = td_ehren_saelianism.7
					days = 912
				}
			}
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 7
						}
					}
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 1
					}
				}
				country_event = {
					id = td_ehren_saelianism.6
					days = 912
				}
			}
		}
	}

	option = { ## crush both of them
		name = td_ehren_saelianism.4.b
		random_owned_province = {
			limit = {
				religion = sigilian
				culture_group = nifthemian_group
			}
			spawn_rebels = {
				size = 1
				type = sigilian_rebels
			}
		}
		random_owned_province = {
			limit = {
				religion = saelian_ehrenic_pantheon
				OR = {
					culture_group = nifthemian_group
					culture = niftrand
				}
			}
			spawn_rebels = {
				size = 1
				type = saelian_ehrenic_pantheon_rebels
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 1
						}
					}
				}
				country_event = {
					id = td_ehren_saelianism.5
					days = 912
				}
			}
			if = {
				limit = {
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 7
					}
				}
				country_event = {
					id = td_ehren_saelianism.7
					days = 912
				}
			}
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 7
						}
					}
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 1
					}
				}
				country_event = {
					id = td_ehren_saelianism.6
					days = 912
				}
			}
		}
	}


	option = { ## crush rebels
		name = td_ehren_saelianism.4.c
		custom_tooltip = ehren_saelianism_events_ehrenism_increase_tt
		add_incident_variable_value = {
			incident = incident_nifthem_conquest
			value = 1
		}
		random_owned_province = {
			limit = {
				religion = sigilian
				culture_group = nifthemian_group
			}
			spawn_rebels = {
				size = 1
				type = sigilian_rebels
			}
			set_province_flag = ehren_saelianism_nifthem_rebel_province
		}
		random_owned_province = {
			limit = {
				religion = sigilian
				culture_group = nifthemian_group
				NOT = { has_province_flag = ehren_saelianism_nifthem_rebel_province_flag }
			}
			spawn_rebels = {
				size = 1
				type = sigilian_rebels
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 1
						}
					}
				}
				country_event = {
					id = td_ehren_saelianism.5
					days = 912
				}
			}
			if = {
				limit = {
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 7
					}
				}
				country_event = {
					id = td_ehren_saelianism.7
					days = 912
				}
			}
			if = {
				limit = {
					NOT = {
						incident_variable_value = {
							incident = incident_nifthem_conquest
							value = 7
						}
					}
					incident_variable_value = {
						incident = incident_nifthem_conquest
						value = 1
					}
				}
				country_event = {
					id = td_ehren_saelianism.6
					days = 912
				}
			}
		}
	}

}

country_event = { ## Sigilianism victorious
	id = td_ehren_saelianism.5
	title = td_ehren_saelianism.5.t
	desc = td_ehren_saelianism.5.desc
	picture = POPE_PREACHING_eventPicture
	
	is_triggered_only = yes
	
	option = { ## end
		name = td_ehren_saelianism.5.a
		set_country_flag = ehren_saelianism_incident_recent
		clr_country_flag = active_incident_flag
		hidden_effect = {
			add_isolationism = -1
			end_incident = incident_nifthem_conquest
		}
		add_country_modifier = {
			name = ehren_saelianism_nifthem_end_sigilianists
			duration = 9125
		}
	}
}

country_event = { ## Moderates victorious
	id = td_ehren_saelianism.6
	title = td_ehren_saelianism.6.t
	desc = td_ehren_saelianism.6.desc
	picture = PRAYING_eventPicture
	
	is_triggered_only = yes
	
	option = { ## end
		name = td_ehren_saelianism.6.a
		set_country_flag = ehren_saelianism_incident_recent
		clr_country_flag = active_incident_flag
		add_country_modifier = {
			name = ehren_saelianism_nifthem_end_moderates
			duration = 9125
		}
	}
}

country_event = { ## Ehrenists victorious
	id = td_ehren_saelianism.7
	title = td_ehren_saelianism.7.t
	desc = td_ehren_saelianism.7.desc
	picture = RELIGIOUS_CONVERSION_eventPicture
	
	is_triggered_only = yes
	
	option = { ## end
		name = td_ehren_saelianism.7.a
		set_country_flag = ehren_saelianism_incident_recent
		clr_country_flag = active_incident_flag
		hidden_effect = {
			add_isolationism = 1
			end_incident = incident_nifthem_conquest
		}
		add_country_modifier = {
			name = ehren_saelianism_nifthem_end_ehrenists
			duration = 9125
		}
	}
}
