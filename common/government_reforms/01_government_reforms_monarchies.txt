
monarchy_mechanic = {
	monarchy = yes
	heir = yes
	queen = yes
	basic_reform = yes # = invisible/does not take up a slot
	is_eligible_for_hre_emperor = yes
	valid_for_nation_designer = no
	custom_attributes = {
		enables_aristocratic_idea_group = yes
	}
	modifiers = {
		nobles_influence_modifier = 0.05
	}
}
admiralty_regime_reform = {
	icon = "admiralty_reform"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Domination"
		OR = {
			AND = {
				has_reform = admiralty_regime_reform
				is_playing_custom_nation = yes
			}
			has_idea_group = maritime_ideas
			has_idea_group = naval_ideas
		}
	}
	trigger = {
		OR = {
			AND = {
				has_reform = admiralty_regime_reform
				is_playing_custom_nation = yes
			}
			full_idea_group = maritime_ideas
			full_idea_group = naval_ideas
		}
	}
	valid_for_nation_designer = yes
	nation_designer_trigger = {
		num_of_ports = 1
	}
	nation_designer_cost = 40
	modifiers = {
		leader_naval_fire = 1
		naval_tradition_from_battle = 0.5
		allowed_marine_fraction = 0.1
		max_admiral_fire = 1 
	}
	custom_attributes = {
		cheaper_coastal_province_core = yes
		force_admiral_leader = yes
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_port = yes
				}
				add_province_modifier = {
					name = gov_coastal_government
					duration = -1
					hidden = yes
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = gov_coastal_government
				}
				remove_province_modifier = gov_coastal_government
			}
		}
	}
	ai = {
		factor = 1
	}
}

#taedium
nusabate_reform = {
	icon = "mamluk_government"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		OR = {
			has_reform = nusabate_reform
			religion_group = yermic
		}
	}
	maintain_dynasty = yes
	modifiers = {
		max_absolutism = 10
		global_unrest = -1
		heir_chance = 0.33
	}
}
varazan_aevadata_reform = {
	icon = "barbary_eyalet_government"
	allow_normal_conversion = yes
	lock_level_when_selected = no
	potential = {
		has_reform = varazan_aevadata_reform
	}
	modifiers = {
		max_absolutism = 15
		culture_conversion_cost = -0.1
		manpower_in_true_faith_provinces = 0.15
	}
}
imperial_aevadata_reform = {
	icon = "imperial_aevadata_reform"
	allow_normal_conversion = no
	potential = {
		has_reform = imperial_aevadata_reform
	}
	modifiers = {
		max_absolutism = 20
		governing_capacity = 150
		advisor_cost = -0.15
		tolerance_own = 2
		#qizilbash?
	}
}
cleidemni_council_reform = {
	icon = "soldiers_4"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_reform = cleidemni_council_reform
	}
	modifiers = {
		free_land_leader_pool = 1
		general_cost = -0.10
	}
	custom_attributes = {
		locked_government_type = yes
	}
	conditional = {
		allow = { has_dlc = "Res Publica" }
		queen = no
		heir = no
		duration = 4
		has_term_election = yes
		states_general_mechanic = {
			generals = {
				land_morale = 0.05
				army_tradition = 0.5
				legitimacy = -0.5
			}
			
			monarchists = {
				advisor_cost = -0.20
				legitimacy = 0.5
				global_regiment_cost = 0.05
			}
		}
	}
}
gyrdian_kingdom_reform = {
	icon = "crown"
	allow_normal_conversion = yes
	lock_level_when_selected = no
	potential = {
		OR = {
			has_reform = gyrdian_kingdom_reform
			culture = gyrdian
		}
	}
	modifiers = {
		land_morale = 0.05
		max_absolutism = 10
	}
	maintain_dynasty = yes
}
marstonian_pirate_reform = {
	icon = "pirate_republic"
	allow_normal_conversion = yes
	custom_attributes = {
		legitimacy_from_raids = yes
		force_admiral_leader = yes
	}
	potential = {
		OR = {
			AND = {
				culture_group = marstonian_group
				religion_group = pagan
			}
			has_reform = marstonian_pirate_reform
		}
		OR = {
			has_dlc = "Lions of the North"
			has_dlc = "Golden Century"
		}
		all_owned_province = {
			has_port = yes
		}
	}
	modifiers = {
		may_perform_slave_raid = yes
		capture_ship_chance = 0.25
		galley_power = 0.1
		legitimacy = -1
	}
}
tummic_herttuakunta_reform = {
	icon = "chieftain"
	allow_normal_conversion = yes
	potential = {
		OR = {
			primary_culture = tummic
			has_reform = tummic_herttuakunta_reform
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 5
	modifiers = {
		shock_damage_received = -0.1
		same_culture_advisor_cost = -0.1
		relation_with_same_religion = 10
	}
	ai = {
		factor = 0.5 #generic
	}
}
narbonese_monarchy_reform = {
	icon = "english_monarchy"
	allow_normal_conversion = no
	potential = {
		OR = {
			has_reform = narbonese_monarchy_reform
			tag = NRB
			was_tag = NRB
		}
	}
	modifiers = {
		fort_maintenance_modifier = -0.15
		vassal_income = 0.2
		vassal_forcelimit_bonus = 0.2
	}
	custom_attributes = {
		locked_government_type = yes
	}
}
acerbic_march_reform = {
	icon = "siege"
	allow_normal_conversion = no
	potential = {
		has_reform = acerbic_march_reform
		religion_group = saelian
	}
	modifiers = {
		global_missionary_strength = 0.02
		fort_maintenance_modifier = -0.15
		relation_with_heathens = -50
		nobles_influence_modifier = 0.1
	}
	custom_attributes = {
		culture_convert_yermic_on_religious_conversion = yes
		locked_government_type = yes
	}
	
}
independent_acerbic_march_reform = {
	icon = "siege"
	allow_normal_conversion = no
	potential = {
		OR = {
			AND = {
				culture_group = acerba_group
				religion_group = saelian
				have_had_reform = acerbic_march_reform
			}
			has_reform = independent_acerbic_march_reform
		}
	}
	modifiers = {
		global_missionary_strength = 0.02
		fort_maintenance_modifier = -0.15
		cb_on_religious_enemies = yes
		relation_with_heathens = -50
		nobles_influence_modifier = 0.1
	}
	custom_attributes = {
		culture_convert_yermic_on_religious_conversion = yes
		locked_government_type = yes
	}
	ai = {
		factor = 100
	}
}
marcan_kingdom_reform = {
	icon = "mercenaries"
	allow_normal_conversion = no
	potential = {
		OR = {
			has_reform = marcan_kingdom_reform
			tag = NOV
		}
	}
	modifiers = {
		global_missionary_strength = 0.02
		#fort_maintenance_modifier = -0.1
		#cb_on_religious_enemies = yes
		#relation_with_heathens = -25
		max_absolutism = 10
		nobles_influence_modifier = 0.1
	}
	custom_attributes = {
		culture_convert_yermic_on_religious_conversion = yes
		locked_government_type = yes
	}
	ai = {
		factor = 100
	}
}
#sigilian centralized
new_saelian_republic = {
	icon = "parliament"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	fixed_rank = 3
	potential = {
		has_reform = new_saelian_republic
		tag = HLR
	}
	modifiers = {
		monthly_piety = 0.1
		tolerance_own = 2

		governing_capacity_modifier = 0.1
		administrative_efficiency = 0.05
		max_absolutism = 15

		all_estate_loyalty_equilibrium = 0.05
	}
	custom_attributes = {
		has_ruler_election = yes
		locked_government_type = yes
	}
	conditional = {
		allow = {
			has_dlc = "Common Sense"
		}
		has_parliament = yes
	}
}
#absolutist centralized
new_saelian_monarchy = {
	icon = "parliament"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	fixed_rank = 3
	potential = {
		has_reform = new_saelian_monarchy
		tag = HLR
	}
	modifiers = {
		monthly_piety = 0.1
		tolerance_own = 2

		governing_capacity_modifier = 0.1
		administrative_efficiency = 0.05
		max_absolutism = 15
		
		max_absolutism_effect = 0.1
		global_autonomy = -0.05
	}
	custom_attributes = {
		seizing_land_loyalty = yes
		seizing_land_no_rebels = yes
		locked_government_type = yes
	}
}
#sigilian decentralized
saelian_federation = {
	icon = "assembly_hall"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		is_emperor = yes
		has_reform = saelian_federation
		#hre_reform_passed = 
	}
	modifiers = {
		monthly_piety = 0.1
		tolerance_own = 2

		diplomatic_reputation = 2
		reduced_liberty_desire_on_same_continent = -15

		all_estate_loyalty_equilibrium = 0.05
	}
	custom_attributes = {
		locked_government_type = yes
	}
}
#absolutist decentralized
holy_viceroyalty = {
	icon = "kingdom_of_god"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		is_emperor = yes
		has_reform = holy_viceroyalty
	}
	modifiers = {
		monthly_piety = 0.1
		tolerance_own = 2

		diplomatic_reputation = 2
		reduced_liberty_desire_on_same_continent = -15

		max_absolutism_effect = 0.1
	}
	custom_attributes = {
		locked_government_type = yes
	}

}

chilverchian_march = {
	icon = "soldiers_7"
	allow_normal_conversion = no
	potential = {
		culture = marchien
		has_reform = chilverchian_march		
	}
	modifiers = {
		prestige = 1
		fort_maintenance_modifier = -0.2
		relation_with_other_culture = -50
		relation_with_same_culture_group = 30
		promote_culture_cost = 0.5
		
	}
} 
zakarturi_kingdom = {
	icon = "mountain_fort"
	fixed_rank = 2
	allow_normal_conversion = no
	potential = {
		culture_group = zakarturi_group
		has_reform = zakarturi_kingdom	
	}
	modifiers = {
		legitimacy = 1
		defensiveness = 0.15
		hostile_attrition = 1
		
	}
	custom_attributes = {
		locked_government_type = yes
	}
} 

#Feudalism vs Autocracy:

feudalism_reform = {
	icon = "castle"
	allow_normal_conversion = yes
	legacy_equivalent = feudal_monarchy
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	modifiers = {
		vassal_income = 0.25
		nobles_influence_modifier = 0.05
		maratha_exclusive_influence_modifier = 0.05
		rajput_exclusive_influence_modifier = 0.05
	}
	custom_attributes = {
		buffed_strong_duchies = yes #+5% Loyalty
	}
	ai = {
		factor = 0.5 #generic
	}
}

autocracy_reform = {
	icon = "crown"
	allow_normal_conversion = yes
	legacy_equivalent = despotic_monarchy
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	modifiers = {
		unjustified_demands = -0.1
		harsh_treatment_cost = -0.1
		global_rebel_suppression_efficiency = 0.1
	}
	ai = {
		factor = 0.5 #generic
	}
}

elective_monarchy_reform = {
	icon = "ballot_box"
	potential = {
		has_dlc = "Domination"
	}
	allow_normal_conversion = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	modifiers = {
		max_absolutism = -40
		all_estate_influence_modifier = 0.1
	}
	custom_attributes = {
		has_ruler_election = yes
	}
	ai = {
		factor = 0.5
	}
}
#todo tech group
plutocratic_reform = {
	icon = "asian_scripture"
	allow_normal_conversion = yes
	legacy_equivalent = despotic_monarchy
	potential = {
		#always = no
		OR = {
			technology_group = indian
			technology_group = muslim
			technology_group = chinese
			technology_group = east_african
		}
	}
	nation_designer_trigger = {
		OR = {
			technology_group = indian
			technology_group = muslim
			technology_group = chinese
			technology_group = east_african
		}
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	modifiers = {
		merchants = 1
		nobles_influence_modifier = -0.05
		burghers_influence_modifier = 0.05
		vaisyas_influence_modifier = 0.05
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	boost_income = yes
	conditional = {
		allow = {
			has_dlc = "Leviathan"
		}
		allow_draft_transport_ships = yes
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	ai = {
		factor = 0.75 #generic
	}
}
grand_duchy_reform = {
	icon = "peasants"
	allow_normal_conversion = yes
	potential = {
		OR = {
			AND = {
				is_playing_custom_nation = yes
				have_had_reform = grand_duchy_reform
			}
		}
	}
	legacy_equivalent = despotic_monarchy
	fixed_rank = 1
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	modifiers = {
		governing_capacity = 200
	}
}

elective_monarchy = {
	icon = "elective_monarchy"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = elective_monarchy
			AND = {
				is_playing_custom_nation = yes
				have_had_reform = elective_monarchy
			}
		}
	}
	legacy_equivalent = elective_monarchy_legacy
	lock_level_when_selected = yes
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	nation_designer_trigger = {
		has_dlc = "Res Publica"
	}
	modifiers = {
		vassal_income = 0.25
		global_unrest = -1
		max_absolutism = -30
		governing_capacity = 100
	}

	conditional = {
		allow = { has_dlc = "Res Publica" }
		is_elective = yes
		custom_attributes = {
			has_polish_election = yes
			locked_government_type = yes
		}
	}

	conditional = {
		allow = { NOT = { has_dlc = "Res Publica" } }
		custom_attributes = {
			locked_government_type = yes
		}
	}
}

revolutionary_empire_reform = {
	lock_level_when_selected = yes
	icon = "rioting_burning_2"
	allow_normal_conversion = no
	potential = {
		has_reform = revolutionary_empire_reform
	}
	legacy_equivalent = revolutionary_empire
	valid_for_new_country = no
	uses_revolutionary_zeal = yes
	revolutionary = yes
	is_eligible_for_hre_emperor = no
	fixed_rank = 3
	modifiers = {
		global_manpower_modifier = 0.25
		land_morale = 0.10
		global_autonomy = -0.2
		governing_capacity = 150
		max_revolutionary_zeal = 50
		papal_influence = -100
		allowed_rev_guard_fraction = 0.2
	}

	custom_attributes = {
		locked_government_type = yes
	}

	conditional = {
		allow = {
			has_dlc = "Rights of Man"
		}
		factions = {
			rr_jacobins
			rr_royalists
			rr_girondists
		}
	}
	removed_effect = {
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = is_revolutionary_china_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_china_flag
				restore_country_name = yes
				override_country_name = CHINA_STRING
				set_country_flag = is_china_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_turkey_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_turkey_flag
				restore_country_name = yes
				override_country_name = TURKEY_STRING
				set_country_flag = is_turkey_flag
			}
			if = {
				limit = {
					has_country_flag = is_revolutionary_gurkani_flag
					is_revolutionary = no
				}
				clr_country_flag = is_revolutionary_gurkani_flag
				restore_country_name = yes
				override_country_name = GURKANI_EMPIRE_STRING
				set_country_flag = is_gurkani_flag
			}
		}
	}
}

celestial_empire = {
	icon = "celestial_empire"
	allow_normal_conversion = no
	potential = {
		if = {
			limit = {
				has_dlc = "Mandate of Heaven"
			}
			is_emperor_of_china = yes
		}
		#todo
		else = {
			OR = {
				has_reform = celestial_empire
				AND = {
					#culture_group = east_asian
					num_of_cities = 50
				}
			}
		}
		NOT = { has_global_flag = empire_of_china_dismantled }
	}
	maintain_dynasty = yes
	allow_force_tributary = no
	valid_for_nation_designer = yes
	nation_designer_cost = 10
	lock_level_when_selected = yes
	factions = {
		temples
		enuchs
		bureaucrats
	}
	fixed_rank = 3
	start_territory_to_estates = 0.9
	modifiers = {
		prestige = 0.5
		church_influence_modifier = -0.1
		nobles_influence_modifier = -0.1
		burghers_influence_modifier = -0.1
		governing_capacity = 500
	}
	
	ai = {
		factor = 1000 # should always be picked if available
	}
	custom_attributes = {
		locked_government_type = yes
		has_unify_china_cb = yes
	}
	conditional = {
		allow = { has_dlc = "Mandate of Heaven" }
		has_meritocracy = yes
		factions = {}
	}
}

#Hereditary vs Nobility
enforce_privileges_reform = {
	icon = "people_walking"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		global_manpower_modifier = 0.1
		nobles_influence_modifier = 0.1
		maratha_exclusive_influence_modifier = 0.1
		rajput_exclusive_influence_modifier = 0.1
	}
	ai = {
		factor = 1
		modifier = {
			factor = 2
			NOT = { max_manpower = 12 }
		}
	}
}

quash_noble_power_reform = {
	icon = "king_2"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		global_tax_modifier = 0.15
		nobles_influence_modifier = -0.1
		maratha_exclusive_influence_modifier = -0.1
		rajput_exclusive_influence_modifier = -0.1
	}
	ai = {
		factor = 1
		modifier = {
			factor = 1.5
			is_in_deficit = yes
		}
	}
}

grant_noble_castle_rights_reform = {
	icon = "castle"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		fort_maintenance_modifier = -0.2
		nobles_influence_modifier = 0.05
		maratha_exclusive_influence_modifier = 0.05
		rajput_exclusive_influence_modifier = 0.05
	}
	custom_attributes = {
		on_fort_built_nobles_loyalty = yes	#5 Loyalty
	}
	ai = {
		factor = 1
		modifier = {
			factor = 1.5
			num_of_owned_provinces_with = {
				OR = {
					has_building = fort_15th
					has_building = fort_16th
					has_building = fort_17th
					has_building = fort_18th
				}
				value = 5
			}
		}
	}
}

maintain_nobles_status_quo_reform = {
	icon = "conciliarism_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		legitimacy = 0.5
		meritocracy = 0.5
		stability_cost_modifier = -0.15
	}
	custom_attributes = {
		free_noble_levies = yes
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0
			crown_land_share = 50
		}
	}
}

grant_military_command_reform = {
	icon = "soldiers"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		army_tradition = 0.25
		cavalry_cost = -0.1
		nobles_influence_modifier = 0.05
		maratha_exclusive_influence_modifier = 0.05
		rajput_exclusive_influence_modifier = 0.05
	}
	custom_attributes = {
		recruiting_generals_increases_nobles_loyalty = yes
	}
	ai = {
		factor = 1
	}
}

grant_nobles_electorate_reform = {
	icon = "ballot_box"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	trigger = {
		has_idea_group = aristocracy_ideas
		NOT = { has_reform = celestial_empire }
	}
	modifiers = {
		nobles_loyalty_modifier = 0.1
		maratha_loyalty_modifier = 0.1
		rajput_loyalty_modifier = 0.1
		no_stability_loss_on_monarch_death = yes
	}
	effect = {
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_estate_led_regency = {
							estate = estate_nobles
						}
						has_estate_led_regency = {
							estate = estate_maratha
						}
						has_estate_led_regency = {
							estate = estate_rajput
						}
					}
				}
				add_ruler_modifier = {
					name = empowered_regency_modifier
					duration = -1
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			remove_country_modifier = empowered_regency_modifier
		}
	}
	custom_attributes = {
		improved_nobles_regency = yes
	}
	conditional = {
		allow = { has_dlc = "Domination" }
		custom_attributes = {
			has_improved_ruler_election = yes
		}
	}
	ai = {
		factor = 1
		modifier = {
			factor = 100
			has_government_attribute = has_ruler_election
		}
		modifier = {
			factor = 0
			NOT = { has_government_attribute = has_ruler_election }
		}
	}
}


blackmail_nobility_reform = {
	icon = "blackmailing"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	trigger = {
		full_idea_group = spy_ideas
	}
	modifiers = {
		nobles_influence_modifier = -0.1
		maratha_exclusive_influence_modifier = -0.1
		rajput_exclusive_influence_modifier = -0.1
		allow_free_estate_privilege_revocation = yes
	}
	custom_attributes = {
		seizing_land_no_rebels_from_estate_nobles = yes
	}
	ai = {
		factor = 0
	}
}
#todo change tech group
enforce_trader_privileges_reform = {
	icon = "paper_money_map"
	allow_normal_conversion = yes
	potential = {
		is_reform_available = plutocratic_reform
		OR = {
			technology_group = indian
			technology_group = muslim
			technology_group = chinese
			technology_group = east_african
		}
	}
	trigger = {
		has_reform = plutocratic_reform
	}
	modifiers = {
		trade_range_modifier = 0.3
		trade_efficiency = 0.05
	}
	ai = {
		factor = 2
		modifier = {
			factor = 1.5
			trade_income_percentage = 0.35
		}
		modifier = {
			factor = 0.5
			NOT = {
				trade_income_percentage = 0.25
			}
		}
	}
}

imperial_nobility_reform = {
	icon = "imperial_nobility_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
	}
	modifiers = {
		leader_cost = -0.1
		rr_royalists_influence = 0.1
		army_tradition = 0.25
	}
	custom_attributes = {
		enables_estate_nobles = yes
		seizing_land_no_rebels_from_estate_nobles = yes
	}
	ai = {
		factor = 2.5
	}
}

#Bureaucracy:

centralize_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = less_than_15_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 15
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = less_than_25_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 25
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = less_than_35_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 35
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = less_than_50_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 50
					}
				}
			}
		}
	}
	trigger = {
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = less_than_15_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 15
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = less_than_25_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 25
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = less_than_35_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 35
					}
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = less_than_50_provinces_on_same_continent
				NOT = {
					num_of_owned_provinces_with = {
						same_continent = ROOT
						value = 50
					}
				}
			}
		}
	}
	modifiers = {
		development_cost_modifier = -0.05
		global_prosperity_growth = 0.5
		all_estate_loyalty_equilibrium = -0.05
	}
	conditional = {
		allow = {
			has_dlc = "Leviathan"
		}
		custom_attributes = {
			centralize_state_half_refund = yes
			#centralize_state_no_reform_cost = yes
			#centralize_state_development = yes
		}
	}
}

centralize_empire_reform = {
	icon = "paper_with_seal_3"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = at_least_15_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 15
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = at_least_25_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 25
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = at_least_35_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 35
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = at_least_50_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 50
				}
			}
		}
	}
	trigger = {
		if = {
			limit = { current_age = age_of_discovery }
			custom_trigger_tooltip = {
				tooltip = at_least_15_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 15
				}
			}
		}
		if = {
			limit = { current_age = age_of_reformation }
			custom_trigger_tooltip = {
				tooltip = at_least_25_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 25
				}
			}
		}
		if = {
			limit = { current_age = age_of_absolutism }
			custom_trigger_tooltip = {
				tooltip = at_least_35_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 35
				}
			}
		}
		if = {
			limit = { current_age = age_of_revolutions }
			custom_trigger_tooltip = {
				tooltip = at_least_50_provinces_on_same_continent
				num_of_owned_provinces_with = {
					same_continent = ROOT
					value = 50
				}
			}
		}
	}
	modifiers = {
		global_autonomy = -0.05
		autonomy_change_time = -0.25
		culture_conversion_cost = -0.1
		all_estate_loyalty_equilibrium = -0.05
	}
	conditional = {
		allow = {
			has_dlc = "Leviathan"
		}
		custom_attributes = {
			centralize_state_half_refund = yes
			#centralize_state_no_reform_cost = yes
			#centralize_state_development = yes
		}
	}
}

decentralize_reform = {
	icon = "map"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		min_autonomy_in_territories = -0.05
		num_accepted_cultures = 2
		all_estate_loyalty_equilibrium = 0.05
	}
	ai = {
		factor = 1
	}
}

expand_imperial_court_reform = {
	icon = "royal_court"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		all_estate_influence_modifier = 0.05
		reform_progress_growth = 0.2
		advisor_pool = 1
	}
}

limit_imperial_court_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		all_estate_influence_modifier = -0.05
		same_culture_advisor_cost = -0.1
		meritocracy = 0.25
	}
	custom_attributes = {
		blocked_call_diet = yes
		seizing_land_loyalty = yes
	}
}

regional_council_reform = {
	icon = "peasants"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		state_maintenance_modifier = -0.33
	}
	conditional = {
		allow = { has_dlc = "Mandate of Heaven" }
		custom_attributes = {
			unlock_special_state_edicts = yes
		}
	}
}

representation_of_the_crown_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		diplomatic_upkeep = 1
		vassal_forcelimit_bonus = 0.25
		monarch_power_tribute = 1
	}
	custom_attributes = {
		subject_tax_modifier_25 = yes
	}
}

#State and Religion
#in Common
restoration_of_clergy_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
		has_dlc = "Emperor"
	}
	modifiers = {
		tolerance_own = 3
		max_revolutionary_zeal = -10
		papal_influence = 100
	}
	effect = {
		if = {
			limit = { has_country_modifier = cult_of_reason }
			add_stability = -1
			remove_country_modifier = cult_of_reason
		}
	}
	custom_attributes = {
		enables_estate_church = yes
	}
	ai = {
		factor = 2.5
	}
}

#Growth of Administration

clergy_in_administration_reform = {
	icon = "religious_leader"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		free_adm_policy = 1
		
		brahmins_hindu_influence_modifier = 0.1
		brahmins_hindu_loyalty_modifier = 0.05
		church_influence_modifier = 0.1
		church_loyalty_modifier = 0.05
		tolerance_own = 1
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0.1
			OR = {
				estate_influence = {
					estate = estate_church
					influence = 90
				}
			}
		}
	}
}

meritocratic_focus_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		yearly_corruption = -0.1
		advisor_cost = -0.1
		maratha_muslim_influence_modifier = 0.1
		rajput_muslim_influence_modifier = 0.1
		burghers_influence_modifier = 0.1
		burghers_loyalty_modifier = 0.05
		vaisyas_non_muslim_influence_modifier = 0.1
	}
	ai = {
		factor = 1
		modifier = {
			factor = 0.1
			OR = {
				estate_influence = {
					estate = estate_burghers
					influence = 90
				}
			}
		}
	}
}

dyanstic_administration_reform = {
	icon = "royal_favoritism"
	allow_normal_conversion = yes
	potential = {
		OR = {
			is_revolutionary = no
			NOT = { has_dlc = "Emperor" }
		}
	}
	modifiers = {
		yearly_corruption = 0.15
		all_estate_influence_modifier = -0.1
		monarch_admin_power = 1
		advisor_pool = 1
	}
	ai = {
		factor = 1
	}
}

standardized_millets_reform = {
	icon = "millet_courts"
	allow_normal_conversion = yes
	potential = {
		OR = {
			has_reform = standardized_millets_reform
			have_had_reform = standardized_millets_reform
			has_unlocked_government_reform = {
				government_reform = standardized_millets_reform
			}
		}
	}
	modifiers = {
		reform_progress_growth = 0.1
		diplomatic_annexation_cost = -0.1
	}
	ai = {
		factor = 1
	}
}

direct_royal_administration_reform = {
	icon = "british_queen"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Domination"
		has_unlocked_government_reform = {
			government_reform = direct_royal_administration_reform
		}
	}
	trigger = {
		has_parliament = yes
	}
	modifiers = {
		core_creation = -0.05
		parliament_effect_duration = -5
		max_absolutism = 10
		yearly_absolutism = 0.5
	}
	custom_attributes = {
		reform_progress_from_advisors = yes
	}
	ai = {
		factor = 2
	}
}

administration_of_the_parliament_reform = {
	icon = "judge"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Domination"
		has_unlocked_government_reform = {
			government_reform = administration_of_the_parliament_reform
		}
	}
	trigger = {
		has_parliament = yes
	}
	modifiers = {
		improve_relation_modifier = 0.2
		monthly_favor_modifier = 0.33
	}
	custom_attributes = {
		parliament_seat_bonus = yes
	}
	effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_seat_in_parliament = yes
				}
				add_province_modifier = {
					name = gov_buffed_parliament_seat
					duration = -1
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_modifier = gov_buffed_parliament_seat
				}
				remove_province_modifier = gov_buffed_parliament_seat
			}
		}
	}
	ai = {
		factor = 2
	}
}

#deliberative_assembly

# parliamentary_reform defined in common file

royal_decree_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		max_absolutism = 5
		yearly_absolutism = 0.5
	}
	ai = {
		factor = 1
	}
}

aristocratic_court_reform = {
	icon = "soldiers_2"
	allow_normal_conversion = yes
	modifiers = {
		diplomatic_reputation = 1
		monthly_favor_modifier = 0.25
		improve_relation_modifier = 0.15
	}
	ai = {
		factor = 1
	}
}

states_general_reform = {
	icon = "states_general"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	trigger = {
		NOT = { is_lesser_in_union = yes }
		is_emperor = no
	}

	modifiers = {
		stability_cost_modifier = -0.1
		no_stability_loss_on_monarch_death = yes
	}

	ai = {
		factor = 0 # AI should never pick this
	}

	removed_effect = {
		country_event = { id = dutch_republic.33 }
	}

	conditional = {
		allow = { has_dlc = "Res Publica" }
		queen = no
		heir = no
		duration = 4
		has_term_election = yes
		states_general_mechanic = {
			statists = {
				diplomatic_reputation = 1
				global_unrest = -1
				legitimacy = -0.5
			}

			monarchists = {
				prestige = 0.5
				manpower_recovery_speed = 0.1
				legitimacy = 0.5
			}
		}
	}
}

general_estates_reform = {
	icon = "power_across_cities"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		monthly_reform_progress_modifier = 0.1
		all_estate_influence_modifier = 0.05
		all_estate_loyalty_equilibrium = 0.1
	}
	custom_attributes = {
		diet_increases_not_influence = yes
	}
	ai = {
		factor = 1
	}
}

imperial_decree_reform = {
	icon = "king"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
	}
	modifiers = {
		max_revolutionary_zeal = 20
	}
	ai = {
		factor = 2.5
	}
}

strengthened_parliament_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Domination"
		has_parliament = yes
	}
	trigger = {
		has_parliament = yes
	}
	modifiers = {
		max_absolutism = -20
		development_cost_in_primary_culture = -0.1
		parliament_backing_chance = 0.05
	}
	ai = {
		factor = 10
	}
}

parliament_vs_monarchy_reform = {
	icon = "judge"
	allow_normal_conversion = no
	lock_level_when_selected = yes
	potential = {
		has_dlc = "Domination"
		has_reform = parliament_vs_monarchy_reform
	}
	
	trigger = {
		has_parliament = yes
	}

	modifiers = {
		parliament_backing_chance = -0.33
		parliament_effect_duration = -5
		parliament_debate_duration = -5
		parliament_chance_of_decision = 1
		can_revoke_parliament_seats = yes
	}

	conditional = {
		allow = { has_dlc = "Domination" }
		government_abilities = {
			parliament_vs_monarchy_mechanic
		}
	}
	ai = {
		factor = 1
	}
}

#Legitimation of Power
machiavellianistic_rule_reform = {
	icon = "machiavellianism"
	allow_normal_conversion = yes
	#potential = {
	#	OR = {
	#		is_revolutionary = no
	#		NOT = { has_dlc = "Emperor" }
	#	}
	#}
	modifiers = {
		stability_cost_to_declare_war = -1
		ae_impact = 0.15
		max_absolutism = 10
	}
	ai = {
		factor = 1
	}
}

six_livres_reform = {
	icon = "six_livres"
	allow_normal_conversion = yes
	#potential = {
	#	OR = {
	#		is_revolutionary = no
	#		NOT = { has_dlc = "Emperor" }
	#	}
	#}
	modifiers = {
		all_estate_influence_modifier = -0.05
		years_of_nationalism = -5
		global_unrest = -1
	}
	ai = {
		factor = 1
	}
}

two_treatises_reform = {
	icon = "two_treaties"
	allow_normal_conversion = yes
	#potential = {
	#	OR = {
	#		is_revolutionary = no
	#		NOT = { has_dlc = "Emperor" }
	#	}
	#}
	modifiers = {
		expand_administration_cost = -1
		can_revoke_parliament_seats = yes
		num_accepted_cultures = 1
	}
	conditional = {
		allow = { has_dlc = "Common Sense" }
		custom_attributes = {
			halved_parliament_bribes = yes
		}
	}
	ai = {
		factor = 1
	}
}

the_leviathan_reform = {
	icon = "leviathan"
	allow_normal_conversion = yes
	#potential = {
	#	OR = {
	#		is_revolutionary = no
	#		NOT = { has_dlc = "Emperor" }
	#	}
	#}
	modifiers = {
		harsh_treatment_cost = -0.33
		global_rebel_suppression_efficiency = 0.5
		reduced_liberty_desire = 10
	}
	ai = {
		factor = 1
	}
}

the_social_contract_reform = {
	icon = "the_social_contract"
	allow_normal_conversion = yes
	#potential = {
	#	OR = {
	#		is_revolutionary = no
	#		NOT = { has_dlc = "Emperor" }
	#	}
	#}
	modifiers = {
		no_religion_penalty = yes
		global_unrest = -1
	}
	custom_attributes = {
		enforced_interfaith_dialogue_buff = yes
	}
	ai = {
		factor = 1
	}
}

#absolute_rule_vs_constitutional

letat_cest_moi_reform = {
	icon = "letat_cest_moi"
	allow_normal_conversion = yes
	modifiers = {
		governing_capacity = 250
	}
}

regional_representation_reform = {
	icon = "assembly_hall"
	allow_normal_conversion = yes
	modifiers = {
		min_autonomy_in_territories = -0.05
		core_creation = -0.05
	}
}

peoples_kingdom_reform = {
	icon = "peasant_republic"
	allow_normal_conversion = yes
	modifiers = {
		possible_policy = 1
	}
	ai = {
		factor = 1
	}
}

deified_monarchy_reform = {
	icon = "divine_guidance_reform"
	allow_normal_conversion = yes
	modifiers = {
		warscore_cost_vs_other_religion = -0.05
		tolerance_own = 1
	}
	ai = {
		factor = 1
	}
}

consulate_reform = {
	icon = "revolutionary_republic"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
	}
	modifiers = {
		global_autonomy = -0.05
		governing_capacity = 150
	}
	ai = {
		factor = 2.5
	}
}

#separation_of_power

political_absolutism_reform = {
	icon = "judge"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		administrative_efficiency = 0.025
		max_absolutism = 10
	}
}

legislative_houses_reform = {
	icon = "parliament_hall"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	modifiers = {
		free_policy = 1
	}
}

presidential_monarchy_reform = {
	icon = "queen"
	allow_normal_conversion = yes
	modifiers = {
		national_focus_years = -5
		no_stability_loss_on_monarch_death = yes
		monarch_diplomatic_power = 1
	}
}

become_a_republic_reform = {
	icon = "parliament_highlighted"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		is_emperor = no
		NOT = { is_lesser_in_union = yes }
		stability = 2
	}
	effect = {
		set_country_flag = populists_in_government
		add_stability = -3
		change_government = republic
	}
	ai = {
		factor = 0
	}
}

install_theocratic_government_reform = {
	icon = "pope_highlighted"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = no
	}
	trigger = {
		NOT = { has_government_attribute_short_desc = locked_government_type }
		is_emperor = no
		NOT = { is_lesser_in_union = yes }
		if = {
			limit = { NOT = { has_government_attribute = theocratic_monarchy_mechanic } }
			stability = 2
		}
	}
	effect = {
		set_country_flag = populists_in_government
		if = {
			limit = { NOT = { has_government_attribute = theocratic_monarchy_mechanic } }
			add_stability = -3
		}
		change_government = theocracy
	}
	ai = {
		factor = 0
	}
}

emperor_of_the_revolution_reform = {
	icon = "emperor_of_the_revolution_reform"
	allow_normal_conversion = yes
	potential = {
		has_dlc = "Emperor"
		is_revolutionary = yes
	}
	modifiers = {
		yearly_revolutionary_zeal = 1.5
		max_revolutionary_zeal = 10
	}
	ai = {
		factor = 2.5
	}
}

enlightened_monarchy_reform = {
	icon = "enlightened_monarchy_reform"
	allow_normal_conversion = yes
	potential = {
		is_revolutionary = yes
	}
	modifiers = {
		global_unrest = -2
		num_accepted_cultures = 2
	}
	ai = {
		factor = 2.5
	}
}

become_rev_republic_reform = {
	icon = "become_rev_republic_reform"
	allow_normal_conversion = yes

	potential = { 
		is_revolutionary = yes
	}
	
	trigger = {
		has_reform = revolutionary_empire_reform
		if = {
			limit = {
				has_dlc = "Rights of Man"
			}
			faction_influence = {
				faction = rr_girondists
				influence = 75
			}
		}
		else = {
			NOT = { stability = 2 }
		}
	}

	modifiers = {
	}
	effect = {
		if = {
			limit = { has_government_attribute = states_general_mechanic }
			set_country_flag = had_states_general_mechanic
		}
		set_country_flag = populists_in_government
		hidden_effect = {
			change_government = republic
		}
		add_government_reform = revolutionary_republic_reform
		if = {
			limit = { has_country_flag = had_states_general_mechanic }
			country_event = { id = dutch_republic.33 }
			clr_country_flag = had_states_general_mechanic
		}
	}
	ai = {
		factor = 0
	}
}